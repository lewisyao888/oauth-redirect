<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <meta charset="utf-8" />
  <script>
    window.onload = function () {
      try {
        const url = new URL(window.location.href);
        const code = url.searchParams.get("code");
        const error = url.searchParams.get("error");

        if (code) {
          const redirectUri = `com.jh.gogame.app:/auth?code=${code}`;
          console.log("Redirecting to:", redirectUri);
          window.location.replace(redirectUri); // ✅ 替换浏览器记录，更兼容
        } else if (error) {
          const errorUri = `com.jh.gogame.app:/auth?error=${error}`;
          console.log("Redirecting to:", errorUri);
          window.location.replace(errorUri);
        } else {
          document.body.innerText = "No code or error found in URL.";
        }
      } catch (e) {
        document.body.innerText = "Exception occurred: " + e;
      }
    };
  </script>
</head>
<body>
  Redirecting...
</body>
</html>
